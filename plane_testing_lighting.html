<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>
		<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

		<script type="importmap">
  		{
    		"imports": {
      			"three": "https://unpkg.com/three@0.150.1/build/three.module.js",
      			"three/addons/": "https://unpkg.com/three@0.150.1/examples/jsm/"
    		}
 		}
		</script>


		<script type="module">
			import * as THREE from 'https://unpkg.com/three/build/three.module.js';
            import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

            const scene = new THREE.Scene(); 
            const camera = new THREE.PespectiveCamera(55, window.innerWidth / window.innerHeight, 1, 1000);
            camera.position.set( 60, 40, 20); 
            //renderer for the scene
            const renderer = new THREE.WebGLRenderer();
			renderer.shadowMap.enabled = true;
			renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            
			renderer.setSize( window.innerWidth, window.innerHeight); 
            document.body.appendChild( renderer.domElement); 

            //controls for camera
            const controls = new OrbitControls(camera, renderer.domElement); 
            controls.minDistance = 20; 
			controls.maxDistance = 200; 
			controls.MaxPolarAngle = Math.PI / 2; 
			controls.update(); 

			//spotlight
			const spotLight = new THREE.SpotLight(0xffffff); 
			spotLight.castShadow = true; 
			
			spotLight.shadow.camera.near = 500;
			spotLight.shadow.camera.far = 4000;
			spotLight.shadow.camera.fov = 30;

			scene.add(spotLight); 


			const sphereGeometry = new THREE.SphereGeometry( 5, 32, 32 );
			const sphereMaterial = new THREE.MeshStandardMaterial( { color: 0xff0000 } );
			const sphere = new THREE.Mesh( sphereGeometry, sphereMaterial );
			sphere.castShadow = true; //default is false
			sphere.receiveShadow = false; //default
			scene.add( sphere );


			const planeGeometry = new THREE.PlaneGeometry( 20, 20, 32, 32 );
			const planeMaterial = new THREE.MeshStandardMaterial( { color: 0x00ff00 } )
			const plane = new THREE.Mesh( planeGeometry, planeMaterial );
			plane.receiveShadow = true;
			scene.add( plane );
			
		</script>
	</body>
</html>